# tkg_urg_object_detector

このプロジェクトは、ROS2 環境で動作するレーザースキャンのクラスタリング処理ノードを提供します。レーザースキャンデータから有効なポイントを抽出し、同一または近接したポイント同士をクラスタとしてグループ化、最終的に各クラスタの重心座標を出力する仕組みを実装しています。

## 機能概要

- レーザースキャンデータの前処理

  無効な距離 (無限大、極端に小さい値、または極端に大きい値) を除外します。

- 初回スキャンの記録

  システム起動時の最初のスキャンを記録し、以降のスキャンで近似の点を除外するための基準として使用します。

- クラスタリングアルゴリズム

  各有効なレーザースキャン点に対し、以下の処理を行います:

  - 現在の点と初回スキャンの対応点との差が一定以内の場合、クラスタリング処理対象外とする。

  - 条件に基づいて各点の座標 (x, y) を算出し、既存のクラスタと比較して近接していれば、そのクラスタに追加、そうでなければ新たなクラスタを生成します。

  - すべてのスキャン処理完了後、データ数が 4 点以上のクラスタのみを有効クラスタとして残します。

- クラスタのマージ処理

  複数のクラスタ間の中心座標が十分に近い場合、それらを統合し、各クラスタの重心および半径を更新する処理を行います。
  特殊条件として、「CoREjp 2025 フィールド外に発射しないための」制約が組み込まれています。

## 依存ライブラリ

このプロジェクトの実行には以下のパッケージが必要です：

- rclpy

- sensor_msgs

- geometry_msgs

- numpy

- numba

また、Python の標準ライブラリ math も使用しています。

## ライセンス

本プロジェクトは MIT License の下でライセンスされています。ライセンスファイルをプロジェクトのルートに含めていますので、再利用および変更に関してはご確認ください。

## お問い合わせ

不明点やご質問がある場合は、GitHub の Issue をご利用ください。